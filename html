<form [formGroup]="fileUploadForm">
  <md-input-file
    name="file"
    placeholder="Select a file"
    [(ngModel)]="fileUploadForm.file"
  />
  <md-progress-bar
    [value]="fileUploadProgress"
    max="100"
    style="width: 100%"
  />
  <button type="submit" class="md-button md-raised">Upload</button>
</form>


    import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup } from '@angular/forms';
import { UploadService } from './upload.service';

@Component({
  selector: 'my-file-upload',
  templateUrl: './file-upload.component.html',
})
export class FileUploadComponent implements OnInit {
  fileUploadForm: FormGroup;
  fileUploadProgress: number = 0;

  constructor(private formBuilder: FormBuilder, private uploadService: UploadService) {}

  ngOnInit() {
    this.fileUploadForm = this.formBuilder.group({
      file: [null],
    });
  }

  onUpload() {
    const file = this.fileUploadForm.value.file;
    if (file) {
      this.uploadService.uploadFile(file).subscribe(
        (progress) => {
          this.fileUploadProgress = progress;
        },
        (error) => {
          console.error(error);
        },
      );
    }
  }
}
